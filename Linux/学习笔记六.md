## 学习笔记六

~~~
为什么每次都不理我
~~~

## 磁盘分区：

### 分区方式

~~~
mbr分区:
1.最多支持四个主分区
2.系统只能安装在主分区
3.扩展分区要占一个主分区
4.MBR最大只支持2TB，但拥有最好的兼容性

gtp分区:
1.支持无限多个主分区（但操作系统可能限制，比如 windows下最多128个分区）
2.最大支持18EB的大容量（1EB=1024 PB，1PB=1024 TB ）
3.windows7 64位以后支持gtp
~~~

### 硬盘说明

~~~
Linux硬盘分IDE硬盘和SCSI硬盘

对于IDE硬盘，驱动器标识符为“hdx~”,其中“hd”表明分区所在设备的类型，这里是指IDE硬盘了。“x”为盘号（a为基本盘，b为基本从属盘，c为辅助主盘，d为辅助从属盘）,“~”代表分区，前四个分区用数字1到4表示，它们是主分区或扩展分区，从5开始就是逻辑分区。例，hda3表示为第一个IDE硬盘上的第三个主分区或扩展分区,hdb2表示为第二个IDE硬盘上的第二个主分区或扩展分区。

对于SCSI硬盘则标识为“sdx~”，SCSI硬盘是用“sd”来表示分区所在设备的类型的，其余则和IDE硬盘的表示方法一样。sdb1 [表示第2块scsi 硬盘的第1个分区]

~~~



##  挂载

查看所用设备情况命令：lsblk或者lsblk -f

### 挂载操作指导：

1.增加一块硬盘1G

![1564214999669](学习笔记六.assets/1564214999669.png)

![1564215037810](学习笔记六.assets/1564215037810.png)

![1564215060896](学习笔记六.assets/1564215060896.png)

![1564215090499](学习笔记六.assets/1564215090499.png)

![1564215216331](学习笔记六.assets/1564215216331.png)



2.重启一下服务器

![1564215319241](学习笔记六.assets/1564215319241.png)

然后reboot

![1564215515474](学习笔记六.assets/1564215515474.png)



3.给sdh硬盘分区

![1564215660769](学习笔记六.assets/1564215660769.png)

![1564215782363](学习笔记六.assets/1564215782363.png)

![1564215856500](学习笔记六.assets/1564215856500.png)

![1564215918300](学习笔记六.assets/1564215918300.png)

![1564215980945](学习笔记六.assets/1564215980945.png)



4.格式化sdb1

![1564216490760](学习笔记六.assets/1564216490760.png)

![1564216537671](学习笔记六.assets/1564216537671.png)



5.挂载

![1564216693578](学习笔记六.assets/1564216693578.png)



 上面的方式，只是临时生效，当你重启系统，挂载的关系没有， 配置linux的分区表，实现启动时，自动挂载.

vim /etc/fstab

![1564217020874](学习笔记六.assets/1564217020874.png)

1) 如果，我们希望卸载，指令

umount 设备名 | 挂载路径

umount /dev/sdb

##  查询指定目录的磁盘占用情况

基本语法

  du -h  /目录

  查询指定目录的磁盘占用情况，默认为当前目录

   -s 指定目录占用大小汇总

   -h 带计量单位

   -a 含文件

   --max-depth=1  子目录深度

   -c 列出明细的同时，增加汇总值



df -h :查询磁盘使用率

### 磁盘情况-工作实用指令

1) 统计/home文件夹下文件的个数
ls –l /home/ | grep “^-” | wc -l

2) 统计/home文件夹下目录的个数
ls –l /home/ | grep “^d” | wc -l

3) 统计/home文件夹下文件的个数，包括子文件夹里的
ls –lR /home/ | grep “^-” | wc -l

4) 统计/home文件夹下目录的个数，包括子文件夹里的
ls –lR /home/ | grep “^d” | wc -l

以树状显示home目录结构  [没有tree指令咋办, 使用yum 来安装]

先安装